# Game "Heart Animation"

Красивая игра с анимацией сердца, созданная на Go и Ebiten, с физикой частиц и интерактивным появлением шариков.

## Архитектура

Проект следует чистой, модульной архитектуре с четким разделением ответственности:

### Структура пакетов

```
heart/
├── main.go                    # Точка входа - минимальная инициализация
├── go.mod                     # Определение Go модуля
├── go.sum                     # Контрольные суммы зависимостей
└── internal/                  # Внутренние пакеты (не импортируемые извне)
    ├── config/               # Управление конфигурацией
    │   └── config.go         # Значения конфигурации по умолчанию
    ├── models/               # Структуры данных и бизнес-логика
    │   └── types.go          # Типы Point, Ball, GameState, Config + методы
    ├── physics/              # Физическая симуляция
    │   ├── heart.go          # Генерация формы сердца
    │   ├── balls.go          # Появление шариков и физика
    │   └── heart_animation.go # Логика анимации сердца
    ├── renderer/             # Рендеринг и графика
    │   └── renderer.go       # Все операции рисования
    └── game/                 # Логика игры и основной цикл
        └── game.go           # Управление состоянием игры и обновления
```

### Ответственность пакетов

#### Пакет `config`
- Управляет конфигурацией игры
- Предоставляет настройки по умолчанию
- Централизует все настраиваемые параметры

#### Пакет `models`
- Определяет основные структуры данных (`Point`, `Ball`, `GameState`, `Config`)
- Содержит методы для физики точек (`ApplyRepulsion`, `ApplyReturn`, `Update`)
- Инкапсулирует бизнес-логику в структурах данных

#### Пакет `physics`
- Обрабатывает все физические вычисления
- Управляет появлением и движением шариков
- Контролирует генерацию формы сердца и анимацию
- Чистые функции для физической симуляции

#### Пакет `renderer`
- Управляет всеми операциями рендеринга
- Обрабатывает эффекты следов и визуальные слои
- Разделяет графику от логики игры
- Оптимизированные операции рисования

#### Пакет `game`
- Реализует интерфейс Ebiten `Game`
- Управляет состоянием игры и обновлениями
- Обрабатывает ввод пользователя
- Координирует между физикой и рендерингом

### Преимущества этой архитектуры

1. **Разделение ответственности**: Каждый пакет имеет единую, четко определенную ответственность
2. **Тестируемость**: Отдельные компоненты могут быть протестированы изолированно
3. **Поддерживаемость**: Изменения в одном аспекте не влияют на другие
4. **Переиспользуемость**: Компоненты могут быть переиспользованы или заменены независимо
5. **Масштабируемость**: Легко добавлять новые функции или изменять существующие
6. **Читаемость**: Четкая структура делает кодовую базу легкой для понимания

### Ключевые паттерны проектирования

- **Внедрение зависимостей**: Конфигурация внедряется в компоненты
- **Разделение интерфейсов**: Чистые интерфейсы между пакетами
- **Единственная ответственность**: Каждый пакет/модуль имеет одну задачу
- **Композиция вместо наследования**: Использует композицию для сложного поведения

## Запуск игры

```bash
go run main.go
```

## Сборка

```bash
go build -o heart .
```

## Возможности

- Интерактивная анимация сердца с 5000+ частицами
- Появление шариков по клику мыши
- Автоматическое появление шариков с краев экрана
- Физические взаимодействия частиц
- Эффекты следов и визуальные слои
- Настраиваемые параметры

## Зависимости

- [Ebiten v2](https://github.com/hajimehoshi/ebiten) - Игровой движок
